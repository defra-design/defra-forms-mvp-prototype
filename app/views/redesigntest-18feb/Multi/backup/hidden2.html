{% extends "layouts/main.html" %}
{% from "components/service-header/macro.njk" import serviceHeader %}
{% set pageName = "Edit page 1 - Apply for a county parish holding number in England" %}
{% set headingPlaceholder = "Page heading" %}
{% set guidancePlaceholder = "" %}
{#  #}
{% block header %}
  {{ serviceHeader({
    organisationName: "Defra",
    productName: "Forms Designer",
    serviceName: "",
    containerClasses: containerClasses,
    accountName: "Chris Smith",
    homepageLink: "/",
    signOutLink: "/onboarding/sign-out-confirmation",
    navigationItems: [
      { href: "/library.html", text: "Forms library", id: "nav-library" },
      { href: "/cph-overview/draft/complete-clean.html", text: "Overview", id: "nav-overview" },
      { href: "/redesigntest/listing", text: "Editor", id: "nav-editor" }    ],
    activeLinkId: "nav-editor"
  }) }}

<div class="x-govuk-masthead x-govuk-masthead--large">
  <div class="govuk-width-container">
    {{ govukBackLink({ classes: "govuk-back-link--inverse", text: "Back to add
    and edit pages", href: "/september/listing/2.html" }) }}

    <hr
      class="govuk-section-break govuk-section-break--m govuk-section-break--visible"
      style="border-bottom: 1px solid white; margin-bottom: 0"
    />

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds-from-desktop">
        <h1 class="x-govuk-masthead__title">
          <span class="govuk-caption-l" style="color: white"
            >Apply for a county parish holding certificate</span
          >

          Edit page 2
        </h1>

        <p class="govuk-body" style="color: white">Last saved at <time>5:24pm</time></p>

      </div>
    </div>
  </div>
</div>

{% endblock %} {% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <div class="govuk-grid-row">
      <!-- Left Column for Form Controls -->
      <div class="govuk-grid-column-one-half-from-desktop" id="container">
        <div class="govuk-summary-card govuk-!-margin-top-0" style="border-left: 10px solid #008938">
          <div class="govuk-summary-card__content govuk-!-padding-top-0" style="background-color: #f3f2f1">
            <dl class="govuk-summary-list">
              <div class="govuk-summary-list__row">
                <dd class="govuk-summary-list__value">
                  <!-- Predefined Content Sections -->
                  <div id="page-settings-content" class="tab-content">
                    <!-- Page Settings Form Here -->
                    <!-- Include your existing form controls -->
                  </div>
                  <div id="overview-content" class="tab-content hidden">
                    <p class="govuk-body">You have not added any questions to this page.</p>
                    <button class="govuk-button" id="add-first-question-button">Add first question</button>
                  </div>
                  <div id="question-1-content" class="tab-content hidden">
                    <!-- Question 1 Content Here -->
                    <!-- Include your existing question form -->
                  </div>
                  <!-- Add more content sections as needed -->
                </dd>
              </div>
            </dl>
            <ul class="govuk-summary-card__actions">
              <!-- Actions Here -->
            </ul>
          </div>
        </div>
      </div>


      <!-- Right Column for Additional Content -->
      <div
        class="govuk-grid-column-one-half-from-desktop"
        id="second-container"
        style="
          outline: solid 1px #008938;
          height: 100%;
          position: sticky;
          top: 0;
          padding: 20px;
          box-shadow: 5px 10px #008938;
        "
      >
        <!-- New HTML content for before element -->
        <div id="before-content">
          <p class="govuk-body-s" style="margin-bottom: 0">
            <a
              href="#"
              class="govuk-link govuk-link--no-visited-state"
              rel="noreferrer noopener"
              target="_blank"
              >Preview this page in a new tab</a
            >
          </p>
        </div>

        <!-- Additional Content Here -->
        <div class="additional-content">

          <div>
            <!-- Tag for Preview -->
            {{ govukTag({ text: "Preview of page 2", classes: "govuk-tag--yellow
            govuk-!-margin-bottom-2 govuk-!-margin-top-8" }) }}
            <!-- Form for Preview -->
            <form>
                 <!-- Dynamic Heading -->
                 <div id="heading-container">
                  <span id="dynamic-caption" class="govuk-caption-l"></span>
                  <h1 class="govuk-heading-l" id="dynamic-heading"></h1>
                </div>

              <!-- Guidance Paragraph -->
              <p class="govuk-body" id="guidance-paragraph"></p>


            </form>


            {{ govukButton({ text: "Continue", classes: "govuk-button
            govuk-!-margin-top-3", id: "once-button", disabled: true }) }} {{
            govukButton({ text: "Add another [question set name]", classes:
            "govuk-button govuk-!-margin-top-3", id: "add-another-set-button",
            disabled: true, attributes: { style: "display:none;" } }) }}
          </div>
        </div>
      </div>
    </div>






<script>
  document.addEventListener("DOMContentLoaded", () => {
  const tabs = document.querySelectorAll(".moj-sub-navigation__link");
  const contents = document.querySelectorAll(".tab-content");

  const activateTab = (tab) => {
    // Deactivate all tabs
    tabs.forEach(t => t.parentElement.classList.remove("active"));
    // Hide all content sections
    contents.forEach(content => content.classList.add("hidden"));

    // Activate the selected tab
    tab.parentElement.classList.add("active");
    // Show the corresponding content section
    const targetId = tab.getAttribute("href").substring(1) + "-content";
    const targetContent = document.getElementById(targetId);
    if (targetContent) {
      targetContent.classList.remove("hidden");
    }
  };

  // Initialize tabs
  tabs.forEach(tab => {
    tab.addEventListener("click", (event) => {
      event.preventDefault();
      activateTab(tab);
    });
  });

  // Optionally, activate the first tab on load
  if (tabs.length > 0) {
    activateTab(tabs[0]);
  }

  // Example: Handling the "Add first question" button in the Overview tab
  const addFirstQuestionButton = document.getElementById("add-first-question-button");
  if (addFirstQuestionButton) {
    addFirstQuestionButton.addEventListener("click", () => {
      activateTab(document.querySelector('[href="#question-1"]'));
    });
  }

  // Add similar event listeners for other buttons as needed

  // Optional: Initialize other interactive elements within each tab
});

</script>




    <style>

.hidden {
  display: none;
}

/* Ensure tab contents have some padding or styling as needed */
.tab-content {
  padding: 20px;
}

      .highlight {
        background-color: #ffe5cc;
        border-bottom: 2px solid #ffb266;
      }

      #before-content {
        position: absolute;
        top: 0;
        left: 10 !important;
        right: 0;
        /* Ensure the right side is aligned with the container edge */
        width: 100%;
        padding: 10px !important;

        /* Remove padding to avoid affecting the width */
        box-sizing: border-box;
        /* Ensure content, padding, and borders are within width */
        z-index: 1;
        border-bottom: 1px solid #008938;
        padding-left: 10px;
        /* Add padding-left specifically for content */
      }

      #second-container {
        padding: 0;
        /* Ensure no padding on the container itself */
        box-sizing: border-box;
        /* Ensure container handles padding/border correctly */
      }

      #second-container > * {
        padding-left: 0px;
        z-index: 2;
        /* Ensure content is above the #before-content */
      }
    </style>

    {% endblock %}
  </div>
</div>
